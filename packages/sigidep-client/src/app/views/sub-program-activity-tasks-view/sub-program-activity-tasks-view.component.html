<p-table [value]="activity?.tasks ?? []" dataKey="id" responsiveLayout="stack">
  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="10" class="p-text-center p-text-secondary">
        {{ "tables.emptyMessage" | translate }}
      </td>
    </tr>
  </ng-template>

  <ng-template pTemplate="header">
    <!--<tr>
      <th style="width: 3rem">NÂ°</th>
      <th>{{ "tables.headers.labelFr" | translate }}</th>
      <th>{{ "tables.headers.labelEn" | translate }}</th>
      <th style="width: 3rem">
        {{ "tables.headers.referenceValue" | translate }}
      </th>
      <th style="width: 3rem">
        {{ "tables.headers.referenceYear" | translate }}
      </th>
      <th style="width: 3rem">
        {{ "tables.headers.targetValue" | translate }}
      </th>
      <th style="width: 3rem">
        {{ "tables.headers.targetYear" | translate }}
      </th>
      <th style="width: 3rem">
        {{ "tables.headers.measurementUnit" | translate }}
      </th>
      <th style="width: 8rem"></th>
    </tr>-->
  </ng-template>
  <ng-template pTemplate="body" let-item let-expanded="expanded">
    <tr [class.expanded]="expanded">
      <td style="width: 1rem">
        <button
          type="button"
          pButton
          pRipple
          [pRowToggler]="item"
          class="p-button-text p-button-rounded p-button-plain"
          [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"
        ></button>
      </td>
      <td class="task">
        <span>ta</span>
        {{
          currentLang === "fr" ? item.formattedLabelFr : item.formattedLabelEn
        }}
      </td>
      <td>------</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>
        <button
          [pTooltip]="'hints.addOperation' | translate"
          *appCheckPermissions="['subPrograms.create']"
          class="p-button-rounded p-button-info p-mr-2"
          icon="pi pi-plus"
          pButton
          pRipple
        ></button>
      </td>
    </tr>
  </ng-template>

  <ng-template pTemplate="rowexpansion" let-activity>
    <tr>
      <td style="width: 1rem"></td>
      <td [colSpan]="10">
        <!--{{ activity | json }}-->
        <app-sub-program-activity-tasks-view
          [activity]="activity"
          [subProgram]="subProgram"
        ></app-sub-program-activity-tasks-view>
      </td>
    </tr>
  </ng-template>
</p-table>

<p-toast></p-toast>
