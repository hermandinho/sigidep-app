<ng-container [ngSwitch]="currentStep$ | async">
  <app-create-engagement-form
    *ngSwitchCase="'common'"
    [startingForm]="commonFormGroup"
    (subformInitialized)="subformInitialized('commonForm', $event)"
    (changeStep)="changeStep('common', $event)"
  ></app-create-engagement-form>
  <app-engagement-commande
    *ngSwitchCase="'command'"
    [startingForm]="commandFormGroup"
    (subformInitialized)="subformInitialized('commandForm', $event)"
    (changeStep)="changeStep('command', 'back')"
    (submitForm)="submitForm()"
  ></app-engagement-commande>
  <app-engagement-mission
    *ngSwitchCase="'mission'"
    [startingForm]="missionFormGroup"
    (subformInitialized)="subformInitialized('missionForm', $event)"
    (changeStep)="changeStep('mission', 'back')"
    (submitForm)="submitForm()"
  ></app-engagement-mission>
  <app-engagement-decision
    *ngSwitchCase="'decision'"
    [montantAE]="montantAE"
    [procedure]="currentProcedure"
    [startingForm]="decisionFormGroup"
    (subformInitialized)="subformInitialized('decisionForm', $event)"
    (changeStep)="changeStep('decision', 'back')"
    (submitForm)="submitForm()"
  ></app-engagement-decision>
</ng-container>
