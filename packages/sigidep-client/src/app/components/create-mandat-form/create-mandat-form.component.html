<ng-container [ngSwitch]="currentStep$ | async">
  <app-engagement-form
    *ngSwitchCase="'engagement'"
    [readOnly]="isBook"
    [startingForm]="engagementFormGroup"
    (subformInitialized)="subformInitialized('engagementForm', $event)"
    (changeStep)="changeStep('engagement', 'forward')"
    [category]="categorieProcedure"
  ></app-engagement-form>
  <app-mandat-form
    *ngSwitchCase="'mandat'"
    [readOnly]="isBook"
    [startingForm]="mandatFormGroup"
    (subformInitialized)="subformInitialized('mandatForm', $event)"
    (changeStep)="changeStep('mandat', $event)"
    [procedure]="currentProcedure"
  ></app-mandat-form>
  <app-perform-form
    *ngSwitchCase="'perform'"
    [readOnly]="isBook"
    [startingForm]="performFormGroup"
    (subformInitialized)="subformInitialized('performForm', $event)"
    (changeStep)="changeStep('perform', 'back')"
    (submitForm)="submitForm()"
  ></app-perform-form>
</ng-container>
