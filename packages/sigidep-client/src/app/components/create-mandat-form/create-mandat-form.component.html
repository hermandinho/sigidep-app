<ng-container [ngSwitch]="currentStep$ | async">
  <app-create-situation-traitement
    *ngSwitchCase="'situation'"
    [startingForm]="situationFormGroup"
    (subformInitialized)="subformInitialized('situationForm', $event)"
    (changeStep)="changeStep('situation', 'forward')"
    [situation]="engagements"
  >
  </app-create-situation-traitement>
  <app-engagement-form
    *ngSwitchCase="'engagement'"
    [readOnly]="isBook"
    [startingForm]="engagementFormGroup"
    (subformInitialized)="subformInitialized('engagementForm', $event)"
    (changeStep)="changeStep('engagement', $event)"
    [category]="categorieProcedure"
    [dataEngagement]="engagements"
    [isCheck]="isCheck"
  ></app-engagement-form>
  <app-mandat-form
    *ngSwitchCase="'mandat'"
    [readOnly]="isBook"
    [startingForm]="mandatFormGroup"
    (subformInitialized)="subformInitialized('mandatForm', $event)"
    (changeStep)="changeStep('mandat', $event)"
    [procedure]="currentProcedure"
    [dataEngagement]="engagements"
  ></app-mandat-form>
  <app-perform-form
    *ngSwitchCase="'perform'"
    [readOnly]="isBook"
    [startingForm]="performFormGroup"
    [dataEngagement]="engagements"
    [isCheck]="isCheck"
    (subformInitialized)="subformInitialized('performForm', $event)"
    (changeStep)="changeStep('perform', $event)"
    (submitForm)="submitForm()"
  ></app-perform-form>
  <app-create-facture-form
  *ngSwitchCase="'facture'"
    [startingForm]="factureFormGroup"
    (subformInitialized)="subformInitialized('factureForm', $event)"
    (changeStep)="changeStep('facture', $event)"
    [facture]="engagements"
  >
  </app-create-facture-form>
</ng-container>
